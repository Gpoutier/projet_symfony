{% extends 'base.html.twig' %}

{% block title %}Hello SortieController!{% endblock %}

{% block body %}
    <div class="container mt-4">

        <div class="row">
            <div class="col-md-6">
                <p><span class="sortie-label">Nom de la sortie :</span> {{ sortie.nom }}</p>
                <p><span class="sortie-label">Date et heure de la sortie :</span> {{ sortie.dateHeureDebut|date('d/m/Y') }}</p>
                <p><span class="sortie-label">Date limite d'inscription :</span> {{ sortie.dateLimiteInscription|date('d/m/Y') }}</p>
                <p><span class="sortie-label">Nombre de places :</span> {{ sortie.participants|length }}/{{ sortie.nbInscriptionsMax }}</p>
                <p><span class="sortie-label">Dur√©e :</span> {{ sortie.duree }} minutes</p>
                <p><span class="sortie-label">Description et infos :</span> {{ sortie.infosSortie }}</p>
            </div>
            <div class="col-md-6 position-relative">
                <p><span class="sortie-label">Campus :</span> {{ sortie.campus.nom }}</p>
                <p><span class="sortie-label">Lieu :</span> {{ sortie.lieu.nom }}</p>
                <p><span class="sortie-label">Rue :</span> {{ sortie.lieu.rue }}</p>
                <p><span class="sortie-label">Code postal :</span> {{ sortie.lieu.ville.codePostal }}</p>
                <p><span class="sortie-label">Latitude :</span> {{ sortie.lieu.latitude }}</p>
                <p><span class="sortie-label">Longitude :</span> {{ sortie.lieu.longitude }}</p>
            </div>
        </div>
    </div>
    <div class="test">
        <h3>Liste des participants inscrits </h3>
        {% if sortie.participants.empty %}
        <p>Aucuns participants inscrits</p>
        {% else %}
        <table class="table table-bordered table-dark" style="width: 40%;">
            <thead>
            <tr>
                <th>pseudo</th>
                <th>Nom</th>
            </tr>
            </thead>
            <tbody>
            {% for p in sortie.participants %}
                <tr>
                    <td><a href="{{ path('consulter_profil', {'pseudo': p.pseudo}) }}">{{ p.pseudo }}</a></td>
                    <td>{{ p.nom }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
        {% endif %}
{% endblock %}
